/**************************************************************************
 jQuery Plugins are included below
 ***************************************************************************/
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.4
*
* Requires: 1.2.2+
*/
(function(e){function n(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,s=!0,o=0,u=0;return t=e.event.fix(n),t.type="mousewheel",t.wheelDelta&&(i=t.wheelDelta/120),t.detail&&(i=-t.detail/3),u=i,n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS&&(u=0,o=-1*i),n.wheelDeltaY!==undefined&&(u=n.wheelDeltaY/120),n.wheelDeltaX!==undefined&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,u),e.event.handle.apply(this,r)}var t=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery),function(e,t,n){e.fn.jScrollPane=function(t){function r(t,r){function V(r){var s,g,y,E,S,T;i=r;if(o==n)t.css({overflow:"hidden",padding:0}),u=t.innerWidth()+I,a=t.innerHeight(),t.width(u),o=e('<div class="jspPane" />').wrap(e('<div class="jspContainer" />').css({width:u+"px",height:a+"px"})),t.wrapInner(o.parent()),f=t.find(">.jspContainer"),o=f.find(">.jspPane"),o.css("padding",F);else{t.css("width",""),T=t.outerWidth()+I!=u||t.outerHeight()!=a,T&&(u=t.innerWidth()+I,a=t.innerHeight(),f.css({width:u+"px",height:a+"px"})),q=o.innerWidth();if(!T&&o.outerWidth()==l&&o.outerHeight()==h){if(m||v)o.css("width",q+"px"),t.css("width",q+I+"px");return}o.css("width",""),t.css("width",u+"px"),f.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}s=o.clone().css("position","absolute"),g=e('<div style="width:1px; position: relative;" />').append(s),e("body").append(g),l=Math.max(o.outerWidth(),s.outerWidth()),g.remove(),h=o.outerHeight(),p=l/u,d=h/a,v=d>1,m=p>1,!m&&!v?(t.removeClass("jspScrollable"),o.css({top:0,width:f.width()-I}),mt(),bt(),Et(),nt(),xt()):(t.addClass("jspScrollable"),y=i.maintainPosition&&(w||x),y&&(E=pt(),S=dt()),$(),K(),G(),y&&(ct(E),lt(S)),yt(),vt(),i.enableKeyboardNavigation&&wt(),i.clickOnTrack&&tt(),St(),i.hijackInternalLinks&&Tt()),i.autoReinitialise&&!j?j=setInterval(function(){V(i)},i.autoReinitialiseDelay):!i.autoReinitialise&&j&&clearInterval(j),t.trigger("jsp-initialised",[m||v])}function $(){v&&(f.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),T=f.find(">.jspVerticalBar"),N=T.find(">.jspTrack"),g=N.find(">.jspDrag"),i.showArrows&&(A=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",Z(0,-1)).bind("click.jsp",gt),O=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",Z(0,1)).bind("click.jsp",gt),i.arrowScrollOnHover&&(A.bind("mouseover.jsp",Z(0,-1,A)),O.bind("mouseover.jsp",Z(0,1,O))),Y(N,i.verticalArrowPositions,A,O)),k=a,f.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){k-=e(this).outerHeight()}),g.hover(function(){g.addClass("jspHover")},function(){g.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",function(){return!1}),g.addClass("jspActive");var n=t.pageY-g.position().top;return e("html").bind("mousemove.jsp",function(e){it(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",rt),!1}),J())}function J(){N.height(k+"px"),w=0,C=i.verticalGutter+N.outerWidth(),o.width(u-C-I),T.position().left==0&&o.css("margin-left",C+"px")}function K(){m&&(f.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),M=f.find(">.jspHorizontalBar"),_=M.find(">.jspTrack"),E=_.find(">.jspDrag"),i.showArrows&&(H=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",Z(-1,0)).bind("click.jsp",gt),B=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",Z(1,0)).bind("click.jsp",gt),i.arrowScrollOnHover&&(H.bind("mouseover.jsp",Z(-1,0,H)),B.bind("mouseover.jsp",Z(1,0,B))),Y(_,i.horizontalArrowPositions,H,B)),E.hover(function(){E.addClass("jspHover")},function(){E.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",function(){return!1}),E.addClass("jspActive");var n=t.pageX-E.position().left;return e("html").bind("mousemove.jsp",function(e){ot(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",rt),!1}),D=f.innerWidth(),Q())}function Q(){f.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){D-=e(this).outerWidth()}),_.width(D+"px"),x=0}function G(){if(m&&v){var t=_.outerHeight(),n=N.outerWidth();k-=t,e(M).find(">.jspCap:visible,>.jspArrow").each(function(){D+=e(this).outerWidth()}),D-=n,a-=n,u-=t,_.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),J(),Q()}m&&o.width(f.outerWidth()-I+"px"),h=o.outerHeight(),d=h/a,m&&(P=1/p*D,P>i.horizontalDragMaxWidth?P=i.horizontalDragMaxWidth:P<i.horizontalDragMinWidth&&(P=i.horizontalDragMinWidth),E.width(P+"px"),S=D-P,ut(x)),v&&(L=1/d*k,L>i.verticalDragMaxHeight?L=i.verticalDragMaxHeight:L<i.verticalDragMinHeight&&(L=i.verticalDragMinHeight),g.height(L+"px"),y=k-L,st(w))}function Y(e,t,n,r){var i="before",s="after",o;t=="os"&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==i?s=t:t==s&&(i=t,o=n,n=r,r=o),e[i](n)[s](r)}function Z(e,t,n){return function(){return et(e,t,this,n),this.blur(),!1}}function et(t,r,s,o){s=e(s).addClass("jspActive");var u,a=function(){t!=0&&ot(x+t*i.arrowButtonSpeed,!1),r!=0&&it(w+r*i.arrowButtonSpeed,!1)},f=setInterval(a,i.arrowRepeatFreq);a(),u=o==n?"mouseup.jsp":"mouseout.jsp",o=o||e("html"),o.bind(u,function(){s.removeClass("jspActive"),clearInterval(f),o.unbind(u)})}function tt(){nt(),v&&N.bind("mousedown.jsp",function(t){if(t.originalTarget==n||t.originalTarget==t.currentTarget){var r=e(this),s=setInterval(function(){var e=r.offset(),n=t.pageY-e.top;w+L<n?it(w+i.trackClickSpeed):n<w?it(w-i.trackClickSpeed):o()},i.trackClickRepeatFreq),o=function(){s&&clearInterval(s),s=null,e(document).unbind("mouseup.jsp",o)};return e(document).bind("mouseup.jsp",o),!1}}),m&&_.bind("mousedown.jsp",function(t){if(t.originalTarget==n||t.originalTarget==t.currentTarget){var r=e(this),s=setInterval(function(){var e=r.offset(),n=t.pageX-e.left;x+P<n?ot(x+i.trackClickSpeed):n<x?ot(x-i.trackClickSpeed):o()},i.trackClickRepeatFreq),o=function(){s&&clearInterval(s),s=null,e(document).unbind("mouseup.jsp",o)};return e(document).bind("mouseup.jsp",o),!1}})}function nt(){_&&_.unbind("mousedown.jsp"),N&&N.unbind("mousedown.jsp")}function rt(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),g&&g.removeClass("jspActive"),E&&E.removeClass("jspActive")}function it(e,t){if(!v)return;e<0?e=0:e>y&&(e=y),t==n&&(t=i.animateScroll),t?s.animate(g,"top",e,st):(g.css("top",e),st(e))}function st(e){e==n&&(e=g.position().top),f.scrollTop(0),w=e;var r=w==0,i=w==y,s=e/y,u=-s*(h-a);if(R!=r||z!=i)R=r,z=i,t.trigger("jsp-arrow-change",[R,z,U,W]);at(r,i),o.css("top",u),t.trigger("jsp-scroll-y",[-u,r,i])}function ot(e,t){if(!m)return;e<0?e=0:e>S&&(e=S),t==n&&(t=i.animateScroll),t?s.animate(E,"left",e,ut):(E.css("left",e),ut(e))}function ut(e){e==n&&(e=E.position().left),f.scrollTop(0),x=e;var r=x==0,i=x==S,s=e/S,a=-s*(l-u);if(U!=r||W!=i)U=r,W=i,t.trigger("jsp-arrow-change",[R,z,U,W]);ft(r,i),o.css("left",a),t.trigger("jsp-scroll-x",[-a,r,i])}function at(e,t){i.showArrows&&(A[e?"addClass":"removeClass"]("jspDisabled"),O[t?"addClass":"removeClass"]("jspDisabled"))}function ft(e,t){i.showArrows&&(H[e?"addClass":"removeClass"]("jspDisabled"),B[t?"addClass":"removeClass"]("jspDisabled"))}function lt(e,t){var n=e/(h-a);it(n*y,t)}function ct(e,t){var n=e/(l-u);ot(n*S,t)}function ht(t,n,r){var s,o,u=0,l,c,h;try{s=e(t)}catch(p){return}o=s.outerHeight(),f.scrollTop(0);while(!s.is(".jspPane")){u+=s.position().top,s=s.offsetParent();if(/^body|html$/i.test(s[0].nodeName))return}l=dt(),c=l+a,u<l||n?h=u-i.verticalGutter:u+o>c&&(h=u-a+o+i.verticalGutter),h&&lt(h,r)}function pt(){return-o.position().left}function dt(){return-o.position().top}function vt(){f.unbind(X).bind(X,function(e,t,n,r){var s=x,o=w;return ot(x+n*i.mouseWheelSpeed,!1),it(w-r*i.mouseWheelSpeed,!1),s==x&&o==w})}function mt(){f.unbind(X)}function gt(){return!1}function yt(){o.unbind("focusin.jsp").bind("focusin.jsp",function(e){if(e.target===o[0])return;ht(e.target,!1)})}function bt(){o.unbind("focusin.jsp")}function wt(){var e,n;t.attr("tabindex",0).unbind("keydown.jsp").bind("keydown.jsp",function(r){if(r.target!==t[0])return;var i=x,s=w,o=e?2:16;switch(r.keyCode){case 40:it(w+o,!1);break;case 38:it(w-o,!1);break;case 34:case 32:lt(dt()+Math.max(32,a)-16);break;case 33:lt(dt()-a+16);break;case 35:lt(h-a);break;case 36:lt(0);break;case 39:ot(x+o,!1);break;case 37:ot(x-o,!1)}if(i!=x||s!=w)return e=!0,clearTimeout(n),n=setTimeout(function(){e=!1},260),!1}),i.hideFocus?(t.css("outline","none"),"hideFocus"in f[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in f[0]&&t.attr("hideFocus",!1))}function Et(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp")}function St(){if(location.hash&&location.hash.length>1){var t,n;try{t=e(location.hash)}catch(r){return}t.length&&o.find(t)&&(f.scrollTop()==0?n=setInterval(function(){f.scrollTop()>0&&(ht(location.hash,!0),e(document).scrollTop(f.position().top),clearInterval(n))},50):(ht(location.hash,!0),e(document).scrollTop(f.position().top)))}}function xt(){e("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function Tt(){xt(),e("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var e=this.href.split("#"),t;if(e.length>1){t=e[1];if(t.length>0&&o.find("#"+t).length>0)return ht("#"+t,!0),!1}})}var i,s=this,o,u,a,f,l,h,p,d,v,m,g,y,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R=!0,U=!0,z=!1,W=!1,X=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";F=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),I=(parseInt(t.css("paddingLeft"))||0)+(parseInt(t.css("paddingRight"))||0),V(r),e.extend(s,{reinitialise:function(t){t=e.extend({},t,i),V(t)},scrollToElement:function(e,t,n){ht(e,t,n)},scrollTo:function(e,t,n){ct(e,n),lt(t,n)},scrollToX:function(e,t){ct(e,t)},scrollToY:function(e,t){lt(e,t)},scrollBy:function(e,t,n){s.scrollByX(e,n),s.scrollByY(t,n)},scrollByX:function(e,t){var n=pt()+e,r=n/(l-u);ot(r*S,t)},scrollByY:function(e,t){var n=dt()+e,r=n/(h-a);it(r*y,t)},animate:function(e,t,n,r){var s={};s[t]=n,e.animate(s,{duration:i.animateDuration,ease:i.animateEase,queue:!1,step:r})},getContentPositionX:function(){return pt()},getContentPositionY:function(){return dt()},getIsScrollableH:function(){return m},getIsScrollableV:function(){return v},getContentPane:function(){return o},scrollToBottom:function(e){it(y,e)},hijackInternalLinks:function(){Tt()}})}t=e.extend({},e.fn.jScrollPane.defaults,t);var i;return this.each(function(){var n=e(this),s=n.data("jsp");s?s.reinitialise(t):(s=new r(n,t),n.data("jsp",s)),i=i?i.add(n):n}),i},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:10,arrowButtonSpeed:10,arrowRepeatFreq:100,arrowScrollOnHover:!1,trackClickSpeed:30,trackClickRepeatFreq:100,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1}}(jQuery,this);